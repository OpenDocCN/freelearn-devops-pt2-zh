["```\n- hosts: web \n  user: vagrant \n  tasks: \n    - name: Print environment name \n      debug: \n        var: env \n    - name: Print db server url \n      debug: \n        var: db_url \n    - name: Print domain url \n      debug: \n        var: domain \n...\n```", "```\n[web] \nws01.fale.io \nws02.fale.io \n\n[db] \ndb01.fale.io \n\n[production:children] \ndb \nweb \n```", "```\n[web] \nws01.staging.fale.io \nws02.staging.fale.io \n\n[db] \ndb01.staging.fale.io \n\n[staging:children] \ndb \nweb\n```", "```\ndb_user: mysqluser \n```", "```\nenv: production \ndomain: fale.io \ndb_url: db.fale.io \ndb_pass: this_is_a_safe_password \n```", "```\nenv: staging \ndomain: staging.fale.io \ndb_url: db.staging.fale.io \ndb_pass: this_is_an_unsafe_password \n```", "```\nansible-playbook -i inventory/staging playbooks/variables.yaml\n```", "```\nPLAY [web] ***********************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [ws01.staging.fale.io]\nok: [ws02.staging.fale.io]\n\nTASK [Print environment name] ****************************************\nok: [ws01.staging.fale.io] => {\n \"env\": \"staging\"\n}\nok: [ws02.staging.fale.io] => {\n \"env\": \"staging\"\n}\n\nTASK [Print db server url] *******************************************\nok: [ws01.staging.fale.io] => {\n \"db_url\": \"db.staging.fale.io\"\n}\nok: [ws02.staging.fale.io] => {\n \"db_url\": \"db.staging.fale.io\"\n}\n\n...\n```", "```\nansible-playbook -i inventory/production playbooks/variables.yaml \n```", "```\nPLAY [web] ***********************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [Print environment name] ****************************************\nok: [ws01.fale.io] => {\n \"env\": \"production\"\n}\nok: [ws02.fale.io] => {\n \"env\": \"production\"\n}\n\nTASK [Print db server url] *******************************************\nok: [ws01.fale.io] => {\n \"db_url\": \"db.fale.io\"\n}\nok: [ws02.fale.io] => {\n \"db_url\": \"db.fale.io\"\n}\n\n...\n```", "```\n[defaults] \nroles_path = roles\n```", "```\n- hosts: web \n  user: vagrant \n  roles: \n    - common \n    - webserver \n```", "```\n- name: Ensure EPEL is enabled \n  yum: \n    name: epel-release \n    state: present \n  become: True \n- name: Ensure libselinux-python is present \n  yum: \n    name: libselinux-python \n    state: present \n  become: True \n- name: Ensure libsemanage-python is present \n  yum: \n    name: libsemanage-python \n    state: present \n  become: True \n...\n```", "```\n                This system is managed by Ansible \n  Any change done on this system could be overwritten by Ansible \n\nOS: {{ ansible_distribution }} {{ ansible_distribution_version }} \nHostname: {{ inventory_hostname }} \neth0 address: {{ ansible_eth0.ipv4.address }} \n\n            All connections are monitored and recorded \n    Disconnect IMMEDIATELY if you are not an authorized user\n```", "```\n--- \n- name: Ensure the HTTPd package is installed \n  yum: \n    name: httpd \n    state: present \n  become: True \n- name: Ensure the HTTPd service is enabled and running \n  service: \n    name: httpd \n    state: started \n    enabled: True \n  become: True \n- name: Ensure HTTP can pass the firewall \n  firewalld: \n    service: http \n    state: enabled \n    permanent: True \n    immediate: True \n  become: True \n...\n```", "```\n--- \n- name: Restart HTTPd \n  service: \n    name: httpd \n    state: restarted \n  become: True\n```", "```\n<html> \n    <body> \n        <h1>Hello World!</h1> \n        <p>This page was created on {{ ansible_date_time.date }}.</p> \n        <p>This machine can be reached on the following IP addresses</p> \n        <ul> \n{% for address in ansible_all_ipv4_addresses %} \n            <li>{{ address }}</li> \n{% endfor %} \n        </ul> \n    </body> \n</html> \n```", "```\nansible-playbook -i inventory/production playbooks/groups/web.yaml \n```", "```\nPLAY [web] ***********************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n\nTASK [common : Ensure EPEL is enabled] *******************************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [common : Ensure libselinux-python is present] ******************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [common : Ensure libsemanage-python is present] *****************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n\nTASK [common : Ensure we have last version of every package] *********\nchanged: [ws02.fale.io]\nchanged: [ws01.fale.io]\n\n...\n```", "```\n- hosts: web \n  user: vagrant \n  tasks:\n    - name: Ensure git is installed\n      yum:\n        name: git\n        state: present \n      become: True\n    - name: Install or update website \n      git: \n        repo: https://github.com/Fale/demo-php-app.git \n        dest: /var/www/application \n      become: True\n```", "```\nansible-playbook -i inventory/production/playbooks/manual/rcs_deploy.yaml \n```", "```\nPLAY [web] ***********************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [Ensure git is installed] ***************************************\nchanged: [ws01.fale.io]\nchanged: [ws02.fale.io]\n\nTASK [Install or update website] *************************************\nchanged: [ws02.fale.io]\nchanged: [ws01.fale.io]\n\nPLAY RECAP ***********************************************************\nws01.fale.io                  : ok=3 changed=2 unreachable=0 failed=0 \nws02.fale.io                  : ok=3 changed=2 unreachable=0 failed=0\n```", "```\n<VirtualHost *:80> \n    ServerName app.fale.io \n    DocumentRoot /var/www/application \n    <Directory /var/www/application> \n        Options None \n    </Directory> \n    <DirectoryMatch \".git*\"> \n        Require all denied \n    </DirectoryMatch> \n</VirtualHost>\n```", "```\nansible-playbook -i inventory/production playbooks/groups/web.yaml \n```", "```\nPLAY [web] ***********************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n\nTASK [common : Ensure EPEL is enabled] *******************************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [common : Ensure libselinux-python is present] ******************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n\nTASK [common : Ensure libsemanage-python is present] *****************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n ...\n```", "```\n%define debug_package %{nil} \n%global commit0 b49f595e023e07a8345f47a3ad62a6f50f03121e \n%global shortcommit0 %(c=%{commit0}; echo ${c:0:7}) \n\nName: demo-php-app \nVersion: 0 \nRelease: 1%{?dist} \nSummary: Demo PHP application \n\nLicense: PD \nURL: https://github.com/Fale/demo-php-app \nSource0: %{url}/archive/%{commit0}.tar.gz#/%{name}-%{shortcommit0}.tar.gz \n\n%description \nThis is a demo PHP application in RPM format \n ...\n```", "```\n%define debug_package %{nil} \n%global commit0 b49f595e023e07a8345f47a3ad62a6f50f03121e \n%global shortcommit0 %(c=%{commit0}; echo ${c:0:7}) \n```", "```\nName:       demo-php-app \nVersion:    0 \nRelease:    1%{?dist} \nSummary:    Demo PHP application \n\nLicense:    PD \nURL:        https://github.com/Fale/demo-php-app \nSource0:    %{url}/archive/%{commit0}.tar.gz#/%{name}-%{shortcommit0}.tar.gz \n```", "```\n%description \nThis is a demo PHP application in RPM format\n```", "```\n%prep \n%autosetup -n %{name}-%{commit0}\n```", "```\n%build\n```", "```\n%install \nmkdir -p %{buildroot}/var/www/application \nls -alh \ncp index.php %{buildroot}/var/www/application \n```", "```\n%files \n%dir /var/www/application \n/var/www/application/index.php \n```", "```\n%changelog  \n* Sun Feb 24 2019 Fabio Alessandro Locati - 0.1\n- Initial packaging \n```", "```\nsudo dnf install -y fedora-packager \n```", "```\nsudo yum install -y mock rpm-build spectool \n```", "```\nsudo usermod -a -G mock [yourusername] \n```", "```\nmkdir -p ~/rpmbuild/SOURCES \n```", "```\nspectool -R -g demo-php-app.spec \n```", "```\nrpmbuild -bs demo-php-app.spec\n```", "```\nWrote: /home/fale/rpmbuild/SRPMS/demo-php-app-0-1.fc28.src.rpm\n```", "```\nmock -r epel-7-x86_64 /home/fale/rpmbuild/SRPMS/demo-php-app-0-1.fc28.src.rpm \n```", "```\nWrote: /builddir/build/RPMS/demo-php-app-0-1.el7.centos.x86_64.rpm\nExecuting(%clean): /bin/sh -e /var/tmp/rpm-tmp.d4vPhr\n+ umask 022\n+ cd /builddir/build/BUILD\n+ cd demo-php-app-b49f595e023e07a8345f47a3ad62a6f50f03121e\n+ /usr/bin/rm -rf /builddir/build/BUILDROOT/demo-php-app-0-1.el7.centos.x86_64\n+ exit 0\nFinish: rpmbuild demo-php-app-0-1.fc28.src.rpm\nFinish: build phase for demo-php-app-0-1.fc28.src.rpm\nINFO: Done(/home/fale/rpmbuild/SRPMS/demo-php-app-0-1.fc28.src.rpm) Config(epel-7-x86_64) 0 minutes 58 seconds\nINFO: Results and/or logs in: /var/lib/mock/epel-7-x86_64/result\nFinish: run \n```", "```\ndrwxrwsr-x. 2 fale mock 4.0K Feb 24 12:26 .\ndrwxrwsr-x. 4 root mock 4.0K Feb 24 12:25 ..\n-rw-rw-r--. 1 fale mock 4.6K Feb 24 12:26 build.log\n-rw-rw-r--. 1 fale mock 3.3K Feb 24 12:26 demo-php-app-0-1.el7.centos.src.rpm\n-rw-rw-r--. 1 fale mock 3.1K Feb 24 12:26 demo-php-app-0-1.el7.centos.x86_64.rpm\n-rw-rw-r--. 1 fale mock 184K Feb 24 12:26 root.log\n-rw-rw-r--. 1 fale mock  792 Feb 24 12:26 state.log\n```", "```\n[web] \nws01.fale.io \nws02.fale.io \n\n[db] \ndb01.fale.io \n\n[builders] \nbuilder01.fale.io \n\n[production:children] \ndb \nweb \nbuilders \n```", "```\n- name: Install our private repository \n  copy: \n    src: privaterepo.repo \n    dest: /etc/yum.repos.d/privaterepo.repo \n  become: True\n```", "```\n[privaterepo] \nname=Private repo that will keep our apps packages \nbaseurl=http://repo.fale.io/ \nskip_if_unavailable=True \ngpgcheck=0 \nenabled=1 \nenabled_metadata=1\n```", "```\nansible-playbook -i inventory/production playbooks/groups/web.yaml \n```", "```\nPLAY [web] ***********************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [common : Ensure EPEL is enabled] *******************************\nok: [ws02.fale.io]\nok: [ws01.fale.io]\n\nTASK [common : Ensure libselinux-python is present] ******************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n\nTASK [common : Ensure libsemanage-python is present] *****************\nok: [ws01.fale.io]\nok: [ws02.fale.io]\n\n...\n```", "```\n- name: Ensure needed packages are present \n  yum: \n    name: '{{ item }}' \n    state: present \n  become: True \n  with_items: \n    - mock \n    - rpm-build \n    - spectool \n    - createrepo \n    - httpd \n\n- name: Ensure the user ansible is in the mock group \n  user: \n    name: ansible \n    groups: mock \n    append: True \n  become: True \n\n...\n```", "```\n- name: Restart HTTPd \n  service: \n    name: httpd \n    state: restarted \n  become: True \n```", "```\n<VirtualHost *:80> \n    ServerName repo.fale.io \n    DocumentRoot /var/www/repo \n    <Directory /var/www/repo> \n        Options Indexes FollowSymLinks \n    </Directory> \n</VirtualHost>\n```", "```\n- hosts: builders \n  user: vagrant \n  roles: \n    - common \n    - builder \n```", "```\nansible-playbook -i inventory/production playbooks/groups/builders.yaml \n```", "```\nPLAY [builders] ******************************************************\n\nTASK [Gathering Facts] ***********************************************\nok: [builder01.fale.io]\n\nTASK [common : Ensure EPEL is enabled] *******************************\nchanged: [builder01.fale.io]\n\nTASK [common : Ensure libselinux-python is present] ******************\nok: [builder01.fale.io]\n\nTASK [common : Ensure libsemanage-python is present] *****************\nchanged: [builder01.fale.io]\n\nTASK [common : Ensure we have last version of every package] *********\nchanged: [builder01.fale.io]\n\nTASK [common : Ensure NTP is installed] ******************************\nchanged: [builder01.fale.io]\n\nTASK [common : Ensure the timezone is set to UTC] ********************\nchanged: [builder01.fale.io]\n\n...\n```", "```\n- hosts: builders \n  user: vagrant \n  tasks: \n    - name: Copy SPEC file to user folder \n      copy: \n        src: ../../spec/demo-php-app.spec \n        dest: /home/vagrant\n    - name: Ensure rpmbuild exists \n      file: \n        name: ~/rpmbuild \n        state: directory \n    - name: Ensure rpmbuild/SOURCES exists \n      file: \n        name: ~/rpmbuild/SOURCES \n        state: directory \n   ...\n```", "```\nansible-playbook -i inventory/production playbooks/manual/rpm_deploy.yaml \n```", "```\nPLAY [builders] ******************************************************\n\nTASK [setup] *********************************************************\nok: [builder01.fale.io]\n\nTASK [Copy SPEC file to user folder] *********************************\nchanged: [builder01.fale.io]\n\nTASK [Ensure rpmbuild exists] ****************************************\nchanged: [builder01.fale.io]\n\nTASK [Ensure rpmbuild/SOURCES exists] ********************************\nchanged: [builder01.fale.io]\n\nTASK [Download the sources] ******************************************\nchanged: [builder01.fale.io]\n\nTASK [Ensure no SRPM files are present] ******************************\nchanged: [builder01.fale.io]\n\nTASK [Build the SRPM file] *******************************************\nchanged: [builder01.fale.io]\n...\n```", "```\n%global commit0 7c288b9d80a6ef525c0cca8a744b32e018eaa386 \n%global shortcommit0 %(c=%{commit0}; echo ${c:0:7}) \n\nName:           hello-world \nVersion:        1.0 \nRelease:        1%{?dist} \nSummary:        Hello World example implemented in C \n\nLicense:        GPLv3+ \nURL:            https://github.com/Fale/hello-world \nSource0:        %{url}/archive/%{commit0}.tar.gz#/%{name}-%{shortcommit0}.tar.gz \n\nBuildRequires:  gcc \nBuildRequires:  make \n\n%description \nThe description for our Hello World Example implemented in C \n\n%prep \n%autosetup -n %{name}-%{commit0} \n\n%build \nmake %{?_smp_mflags} \n\n%install \n%make_install \n\n%files \n%license LICENSE \n%{_bindir}/hello \n\n%changelog \n* Sun Feb 24 2019 Fabio Alessandro Locati - 1.0-1 \n- Initial packaging\n```", "```\n%global commit0 7c288b9d80a6ef525c0cca8a744b32e018eaa386 \n%global shortcommit0 %(c=%{commit0}; echo ${c:0:7}) \n```", "```\nName:           hello-world \nVersion:        1.0 \nRelease:        1%{?dist} \nSummary:        Hello World example implemented in C \n\nLicense:        GPLv3+ \nURL:            https://github.com/Fale/hello-world \nSource0:        %{url}/archive/%{commit0}.tar.gz#/%{name}-%{shortcommit0}.tar.gz \n```", "```\nBuildRequires:  gcc \nBuildRequires:  make\n```", "```\n%description \nThe description for our Hello World Example implemented in C \n\n%prep \n%autosetup -n %{name}-%{commit0} \n\n%build \nmake %{?_smp_mflags} \n```", "```\n%install \n%make_install \n```", "```\n%files \n%license LICENSE \n%{_bindir}/hello \n```", "```\n%changelog \n* Sun Feb 24 2019 Fabio Alessandro Locati - 1.0-1 \n- Initial packaging \n```", "```\n- hosts: builders \n  user: vagrant \n  tasks: \n    - name: Copy SPEC file to user folder \n      copy: \n        src: ../../spec/hello-world.spec \n        dest: /home/ansible \n    - name: Ensure rpmbuild exists \n      file: \n        name: ~/rpmbuild \n        state: directory \n    - name: Ensure rpmbuild/SOURCES exists \n      file: \n        name: ~/rpmbuild/SOURCES \n        state: directory \n    ...\n```", "```\nansible-playbook -i inventory/production playbooks/manual/hello_deploy.yaml\n```", "```\nPLAY [builders] ******************************************************\n\nTASK [setup] *********************************************************\nok: [builder01.fale.io]\n\nTASK [Copy SPEC file to user folder] *********************************\nchanged: [builder01.fale.io]\n\nTASK [Ensure rpmbuild exists] ****************************************\nok: [builder01.fale.io]\n\nTASK [Ensure rpmbuild/SOURCES exists] ********************************\nok: [builder01.fale.io]\n\nTASK [Download the sources] ******************************************\nchanged: [builder01.fale.io]\n\nTASK [Ensure no SRPM files are present] ******************************\nchanged: [builder01.fale.io]\n\nTASK [Build the SRPM file] *******************************************\nchanged: [builder01.fale.io]\n\nTASK [Execute mock] **************************************************\nchanged: [builder01.fale.io]\n\n...\n```", "```\n[web-main] \nws[00:94].fale.io \n\n[web-canary] \nws[95:99].fale.io \n\n[web:children] \nweb-main \nweb-canary\n```", "```\npipelining=True \n```"]