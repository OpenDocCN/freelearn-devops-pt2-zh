- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: Ansible has rapidly grown from a small open source orchestration tool to a full-blown
    orchestration and configuration management tool owned by Red Hat. In this book,
    you will learn how to write playbooks using the core Ansible modules to deploy
    everything from basic LAMP stacks to a full-blown highly available public cloud
    infrastructure.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: Ansible已经迅速从一个小型的开源编排工具发展成为一款完整的编排和配置管理工具，由红帽公司拥有。在本书中，您将学习如何使用核心Ansible模块编写playbook，部署从基本的LAMP堆栈到完整的高可用公共云基础架构。
- en: 'By the end of the book, you will have learned how to do the following:'
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 通过本书，您将学会以下内容：
- en: Written your own playbooks to configure servers running CentOS 7, Ubuntu 17.04,
    and Windows Server
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 编写自己的playbook来配置运行CentOS 7、Ubuntu 17.04和Windows Server的服务器
- en: Defined a highly available cloud infrastructure in code, making it easy to distribute
    your infrastructure configuration alongside your own code
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定义了一个高可用的云基础架构代码，使得很容易将您的基础架构配置与您自己的代码一起分发
- en: Deployed and configured Ansible Tower and Ansible AWX
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 部署和配置Ansible Tower和Ansible AWX
- en: Used community contributed roles and learned how to contribute your own roles
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用社区贡献的角色，并学习如何贡献自己的角色
- en: Worked through several use cases of how you can use Ansible in your day-to-day
    role and projects
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过几个用例，了解如何在日常角色和项目中使用Ansible
- en: By the end of the book, you should have a good idea of how to integrate Ansible
    in your day-to-day roles as system administrators, developers, and DevOps practitioners.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 通过本书，您应该对如何将Ansible集成到日常角色中有一个很好的想法，比如系统管理员、开发人员和DevOps从业者。
- en: Who this book is for
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 这本书适合谁
- en: This book is perfect for system administrators, developers, and DevOps practitioners
    who want to take their current workflows and transform them into repeatable playbooks
    using Ansible. No prior knowledge of Ansible is required.
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 这本书非常适合想要将他们当前的工作流程转变为可重复使用的playbook的系统管理员、开发人员和DevOps从业者。不需要先前对Ansible的了解。
- en: What this book covers
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](4648440f-c619-462b-9e31-001dc98210ca.xhtml), *An Introduction to
    Ansible*, discusses what problems Ansible has been developed to resolve, who wrote
    it, and talks about Red Hat''s involvement following their acquisition of Ansible.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](4648440f-c619-462b-9e31-001dc98210ca.xhtml)，*Ansible简介*，讨论了Ansible开发的问题，作者是谁，并谈到了红帽公司在收购Ansible后的参与情况。'
- en: '[Chapter 2](121e7191-52e8-4dac-a48b-9dd42f1fb2b0.xhtml), *Installing and Running
    Ansible*, discusses how we will work through installing Ansible on macOS and Linux,
    after covering its background. We will also discuss why there is no native Windows
    installer and cover installing Ansible on the Ubuntu shell in Windows 10 Professional.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](121e7191-52e8-4dac-a48b-9dd42f1fb2b0.xhtml)，*安装和运行Ansible*，讨论了我们将如何在macOS和Linux上安装Ansible，然后介绍其背景。我们还将讨论为什么没有本地的Windows安装程序，并介绍在Windows
    10专业版的Ubuntu shell上安装Ansible。'
- en: '[Chapter 3](e191511e-bba6-426d-914c-60767af24790.xhtml), *The Ansible Commands*,
    explains how, before moving onto writing and executing more advanced playbooks,
    we are going to take a look at the Ansible commands. Here, we will cover the usage
    of the set of commands that make up Ansible.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](e191511e-bba6-426d-914c-60767af24790.xhtml)，*Ansible命令*，解释了在开始编写和执行更高级的playbook之前，我们将先了解Ansible命令。在这里，我们将介绍组成Ansible的一组命令的用法。'
- en: '[Chapter 4](6608475e-fe91-4d8b-99dc-4b8c6660f641.xhtml), *Deploying a LAMP
    Stack*, discusses the deployment of a full LAMP stack using the various core modules
    that ship with Ansible. We will target the CentOS 7 virtual machine running locally.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](6608475e-fe91-4d8b-99dc-4b8c6660f641.xhtml)，*部署LAMP堆栈*，讨论了使用随Ansible提供的各种核心模块部署完整的LAMP堆栈。我们将针对本地运行的CentOS
    7虚拟机进行操作。'
- en: '[Chapter 5](159d7be3-6d13-4a66-8766-e4cf3b982b0f.xhtml), *Deploying WordPress*,
    explains the use of the LAMP stack, which we deployed in the previous chapter
    as our base. We will use Ansible to download, install, and configure WordPress.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](159d7be3-6d13-4a66-8766-e4cf3b982b0f.xhtml)，*部署WordPress*，解释了我们在上一章部署的LAMP堆栈作为基础。我们将使用Ansible来下载、安装和配置WordPress。'
- en: '[Chapter 6](8a622761-b253-45a2-8ab6-ff0f3a55aa34.xhtml), *Targeting Multiple
    Distributions*, explains how we will work through adapting the playbook, so it
    can run against both Ubuntu 17.04 and CentOS 7 servers. The final playbook from
    the previous two chapters have been written to target a CentOS 7 virtual machine.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](8a622761-b253-45a2-8ab6-ff0f3a55aa34.xhtml)，*面向多个发行版*，解释了我们将如何调整playbook，使其可以针对Ubuntu
    17.04和CentOS 7服务器运行。前两章的最终playbook已经编写成针对CentOS 7虚拟机。'
- en: '[Chapter 7](ea3a1a37-b99d-4837-b458-d8a24c6cc39c.xhtml), *The Core Network
    Modules*, explains how we will take a look at the core network modules that ship
    with Ansible. Due to the requirements of these modules, we will only be touching
    upon the functionality these modules provide.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ea3a1a37-b99d-4837-b458-d8a24c6cc39c.xhtml)，*核心网络模块*，解释了我们将如何查看随Ansible一起提供的核心网络模块。由于这些模块的要求，我们只会涉及这些模块提供的功能。'
- en: '[Chapter 8](61ca516e-93a7-4701-9150-de8e32967097.xhtml), *Moving to the Cloud*,
    discusses how we will move from using local virtual machines to using Ansible
    to launch a Droplet in DigitalOcean, and then we will use the playbook from the
    previous chapters to install and configure a LAMP stack and WordPress.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](61ca516e-93a7-4701-9150-de8e32967097.xhtml)，*迁移到云*，讨论了我们将如何从使用本地虚拟机转移到使用Ansible在DigitalOcean中启动Droplet，然后我们将使用前几章的playbook来安装和配置LAMP堆栈和WordPress。'
- en: '[Chapter 9](625a5b00-6e3d-4339-8014-c1885db38f76.xhtml), *Building Out a Cloud
    Network*, discusses how after launching the servers in DigitalOcean. We will move
    onto Amazon Web Services before we launch instances. We will need to create a
    network for them to be hosted in.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](625a5b00-6e3d-4339-8014-c1885db38f76.xhtml)，*构建云网络*，讨论了在DigitalOcean中启动服务器后。我们将转移到Amazon
    Web Services，然后启动实例。我们需要为它们创建一个网络来进行托管。'
- en: '[Chapter 10](56e8175f-d1a8-4b63-ad3f-fe94ff55135e.xhtml), *Highly Available
    Cloud Deployments*, continues with our Amazon Web Services deployment. We will
    start to deploy services into the network we created in the previous chapter,
    and by the end of the chapter, we will be left with a highly available WordPress
    installation.'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](56e8175f-d1a8-4b63-ad3f-fe94ff55135e.xhtml)，*高可用云部署*，继续我们的Amazon Web
    Services部署。我们将开始将服务部署到上一章中创建的网络中，到本章结束时，我们将留下一个高可用的WordPress安装。'
- en: '[Chapter 11](1d85db43-f633-4e10-afa4-f424dd8d02f3.xhtml), *Building Out a VMware
    Deployment*, discusses the core modules that allow you to interact with the various
    components that make up a typical VMware installation.'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](1d85db43-f633-4e10-afa4-f424dd8d02f3.xhtml)，*构建VMware部署*，讨论了允许您与构成典型VMware安装的各种组件进行交互的核心模块。'
- en: '[Chapter 12](bdc667a2-bcd9-4234-8a0e-7bb298b16347.xhtml), *Ansible Windows
    Modules*, takes a look at the ever-growing collection of core Ansible modules
    that support and interact with Windows-based servers.'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: '[第12章](bdc667a2-bcd9-4234-8a0e-7bb298b16347.xhtml)，*Ansible Windows模块*，介绍了不断增长的核心Ansible模块集，支持并与基于Windows的服务器交互。'
- en: '[Chapter 13](56285ee5-5444-423c-8758-bacc7e1c91fc.xhtml), *Hardening Your Servers
    Using Ansible and OpenSCAP*, explains how you can use Ansible to install and execute
    OpenSCAP. We will also look at using Ansible to solve any problems found during
    the OpenSCAP scan.'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: '[第13章](56285ee5-5444-423c-8758-bacc7e1c91fc.xhtml)，*使用Ansible和OpenSCAP加固您的服务器*，解释了如何使用Ansible安装和执行OpenSCAP。我们还将研究如何使用Ansible解决在OpenSCAP扫描期间发现的任何问题。'
- en: '[Chapter 14](d71c8c72-7673-40f2-857a-a55514a7646b.xhtml), *Deploying WPScan
    and OWASP ZAP*, explains the creation of a playbook that deploys and runs two
    security tools, OWASP ZAP and WPScan. Then, using the playbooks from previous
    chapters from previous chapters launches a WordPress installation to run them
    against.'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '[第14章](d71c8c72-7673-40f2-857a-a55514a7646b.xhtml)，*部署WPScan和OWASP ZAP*，解释了创建一个部署和运行两个安全工具OWASP
    ZAP和WPScan的playbook。然后，使用前几章的playbook启动WordPress安装以运行它们。'
- en: '[Chapter 15](3e69a3e5-29f2-4077-a3b7-efaca24d61c1.xhtml), *Introducing Ansible
    Tower and Ansible AWX*, takes a look at the two graphical interfaces to Ansible,
    the commercial Ansible Tower and Open Source Ansible AWX.'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: '[第15章](3e69a3e5-29f2-4077-a3b7-efaca24d61c1.xhtml)，*介绍Ansible Tower和Ansible
    AWX*，介绍了两个与Ansible相关的图形界面，商业版的Ansible Tower和开源版的Ansible AWX。'
- en: '[Chapter 16](1ef579aa-1c46-47a5-81d2-bbe6e88574e2.xhtml), *Ansible Galaxy*,
    discusses Ansible Galaxy, which is an online repository of community contributed
    roles. In this chapter, we will discover some of the best roles available, how
    to use them, and how to create your own role and have it hosted on Ansible Galaxy.'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '[第16章](1ef579aa-1c46-47a5-81d2-bbe6e88574e2.xhtml)，*Ansible Galaxy*，讨论了Ansible
    Galaxy，这是一个社区贡献角色的在线存储库。在本章中，我们将发现一些最好的可用角色，如何使用它们，以及如何创建自己的角色并将其托管在Ansible Galaxy上。'
- en: '[Chapter 17](ee6f227f-4185-4885-91c6-8cb96b95cb78.xhtml), *Next Steps with
    Ansible*, teaches us how Ansible can be integrated into our day-to-day workflows,
    from interacting with collaboration services to troubleshooting your playbooks
    with the built-in debugger. We will also look at some real-world examples of how
    I use Ansible.'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: '[第17章](ee6f227f-4185-4885-91c6-8cb96b95cb78.xhtml)，*使用Ansible的下一步*，教我们如何将Ansible集成到我们的日常工作流程中，从与协作服务的交互到使用内置调试器解决playbook的故障。我们还将看一些我如何使用Ansible的真实例子。'
- en: To get the most out of this book
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了充分利用本书
- en: 'To get the most out of this book, I assume you that you:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 为了充分利用本书，我假设你：
- en: Have had some experience of using the command line on both Linux-based machines
    and also macOS
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 有一些在Linux和macOS上使用命令行的经验
- en: Have a basic understanding of how to install and configure services on a Linux
    server
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对如何在Linux服务器上安装和配置服务有基本的了解
- en: Have a working knowledge of services and languages, such as Git, YAML, and virtualization
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对服务和语言（如Git、YAML和虚拟化）有工作知识
- en: Download the example code files
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from your account at [www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[www.packtpub.com](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便直接通过电子邮件接收文件。
- en: 'You can download the code files by following these steps:'
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按照以下步骤下载代码文件：
- en: Log in or register at [www.packtpub.com](http://www.packtpub.com/support).
  id: totrans-37
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在[www.packtpub.com](http://www.packtpub.com/support)上登录或注册。
- en: Select the SUPPORT tab.
  id: totrans-38
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“支持”选项卡。
- en: Click on Code Downloads & Errata.
  id: totrans-39
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“代码下载和勘误”。
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-40
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索框中输入书名，并按照屏幕上的说明操作。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦文件下载完成，请确保您使用最新版本的解压缩或提取文件夹：
- en: WinRAR/7-Zip for Windows
  id: totrans-42
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows的WinRAR/7-Zip
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-43
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mac的Zipeg/iZip/UnRarX
- en: 7-Zip/PeaZip for Linux
  id: totrans-44
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux的7-Zip/PeaZip
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Learn-Ansible](https://github.com/PacktPublishing/Learn-Ansible).
    In case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 该书的代码包也托管在GitHub上，网址为[https://github.com/PacktPublishing/Learn-Ansible](https://github.com/PacktPublishing/Learn-Ansible)。如果代码有更新，将在现有的GitHub存储库上进行更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at  **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他代码包，来自我们丰富的图书和视频目录，可在**[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**上找到！看看它们！
- en: Download the color images
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图片
- en: 'We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://www.packtpub.com/sites/default/files/downloads/LearnAnsible_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/LearnAnsible_ColorImages.pdf).'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个PDF文件，其中包含本书中使用的屏幕截图/图表的彩色图像。您可以在这里下载：[https://www.packtpub.com/sites/default/files/downloads/LearnAnsible_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/LearnAnsible_ColorImages.pdf)。
- en: Conventions used
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了许多文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    Here is an example: "This will create a key and store it in the `.ssh` folder
    in your `user` directory."'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter句柄。这是一个例子：“这将创建一个密钥并将其存储在您的`user`目录中的`.ssh`文件夹中。”'
- en: 'A block of code is set as follows:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-53
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都将按如下方式编写：
- en: '[PRE1]'
  id: totrans-55
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this. Here
    is an example: "To do this, open Control Panel, then click on Programs and Features,
    and then on Turn Windows features on or off."'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: '**Bold**：表示一个新术语、一个重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会在文本中以这种方式出现。这是一个例子：“要做到这一点，打开控制面板，然后点击程序和功能，然后点击打开或关闭Windows功能。”'
- en: Warnings or important notes appear like this.Tips and tricks appear like this.
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会出现在这样的形式中。提示和技巧会出现在这样的形式中。
