- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: With the trend of microservices architecture in the recent years, a monolithic
    application is refactored into multiple microservices. Container simplifies the
    deployment of the application build from microservices. Container management,
    automation, and orchestration have become crucial problems. Kubernetes is here
    to solve these.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 近年来，微服务架构的趋势，将单片应用程序重构为多个微服务。容器简化了由微服务构建的应用程序的部署。容器管理、自动化和编排已成为关键问题。Kubernetes就是为了解决这些问题而存在的。
- en: This book is a practical guide that provides step-by-step tips and examples
    to help you build and run your own Kubernetes cluster in both private and public
    clouds. Following along with the book will lead you to understanding how to deploy
    and manage your application and services in Kubernetes. You will also gain a deep
    understanding of how to scale and update live containers, and how to do port forwarding
    and network routing in Kubernetes. You will learn how to build a robust high-availability
    cluster with the book's hands-on examples. Finally, you will build a Continuous
    Delivery pipeline by integrating Jenkins, Docker registry, and Kubernetes.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是一本实用指南，提供逐步提示和示例，帮助您在私有和公共云中构建和运行自己的Kubernetes集群。跟着本书学习将使您了解如何在Kubernetes中部署和管理应用程序和服务。您还将深入了解如何扩展和更新实时容器，以及如何在Kubernetes中进行端口转发和网络路由。您将学习如何通过本书的实际示例构建一个稳健的高可用性集群。最后，您将通过集成Jenkins、Docker注册表和Kubernetes来构建一个持续交付流水线。
- en: Who this book is for
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合对象
- en: If you've been playing with Docker containers for a while and want to orchestrate
    your containers in a modern way, this book is the right choice for you. This book
    is for those who already understand Docker and container technology, and want
    to explore further to find better ways to orchestrate, manage, and deploy containers.
    This book is perfect for going beyond a single container and working with container
    clusters, learning how to build your own Kubernetes, and making it work seamlessly
    with your Continuous Delivery pipeline.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已经玩了一段时间的Docker容器，并希望以现代方式编排您的容器，那么这本书是您的正确选择。本书适合那些已经了解Docker和容器技术，并希望进一步探索以找到更好的方式来编排、管理和部署容器的人。本书非常适合超越单个容器，与容器集群一起工作，学习如何构建自己的Kubernetes，并使其与您的持续交付流水线无缝配合。
- en: What this book covers
  id: totrans-5
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖内容
- en: '[Chapter 1](4dd5324f-b753-4c80-b891-bd8e6013b2c1.xhtml), *Building Your Own
    Kubernetes Cluster*, explains how to build your own Kubernetes cluster with various
    deployment tools and run your first container on it.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 第1章《构建您自己的Kubernetes集群》解释了如何使用各种部署工具构建自己的Kubernetes集群，并在其上运行第一个容器。
- en: '[Chapter 2](e9a51674-078b-4ffc-a76c-98774150bfa3.xhtml), *Walking through Kubernetes
    Concepts*, covers both basic and advanced concepts we need to know about Kubernetes.
    Then, you will learn how to combine them to create Kubernetes objects by writing
    and applying configuration files.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: 第2章《走进Kubernetes概念》涵盖了我们需要了解的Kubernetes的基本和高级概念。然后，您将学习如何通过编写和应用配置文件来组合它们以创建Kubernetes对象。
- en: '[Chapter 3](51ca5358-d5fe-4eb2-a52d-65a399617fcf.xhtml), *Playing with Containers*,
    explains how to scale your containers up and down and perform rolling updates
    without affecting application availability. Furthermore, you will learn how deploy
    containers for dealing with different application workloads. It will also walk
    you through best practices of configuration files.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 第3章《玩转容器》解释了如何扩展和缩减容器，并执行滚动更新而不影响应用程序的可用性。此外，您将学习如何部署容器来处理不同的应用程序工作负载。它还将带您了解配置文件的最佳实践。
- en: '[Chapter 4](1a0d884d-59d3-4f67-adee-2d2e37030132.xhtml), *Building High-Availability
    Clusters*, provides information on how to build High Availability Kubernetes master
    and etcd. This will prevent Kubernetes components from being the single point
    of failure.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: 第4章，“构建高可用性集群”，提供了构建高可用性Kubernetes主节点和etcd的信息。这将防止Kubernetes组件成为单点故障。
- en: '[Chapter 5](669edaf0-c274-48fa-81d8-61150fa36df5.xhtml), *Building Continuous
    Delivery Pipelines*, talks about how to integrate Kubernetes into an existing
    Continuous Delivery pipeline with Jenkins and private Docker registry.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: 第5章，“构建持续交付管道”，讨论了如何将Kubernetes集成到现有的使用Jenkins和私有Docker注册表的持续交付管道中。
- en: '[Chapter 6](b7e1d803-52d0-493b-9123-5848da3fa9ec.xhtml), *Building Kubernetes
    on AWS*, walks you through AWS fundamentals. You will learn how to build a Kuberentes
    cluster on AWS in few minutes.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: 第6章，“在AWS上构建Kubernetes”，带您了解AWS的基础知识。您将学习如何在AWS上在几分钟内构建一个Kubernetes集群。
- en: '[Chapter 7](dfc46490-f109-4f07-ba76-1a381b006d76.xhtml), *Building Kubernetes
    on GCP*, leads you to the Google Cloud Platform world. You will learn the GCP
    essentials and how to launch a managed, production-ready Kubernetes cluster with
    just a few clicks.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 第7章，“在GCP上构建Kubernetes”，带领您进入Google Cloud Platform世界。您将学习GCP的基本知识，以及如何通过几次点击启动一个托管的、可投入生产的Kubernetes集群。
- en: '[Chapter 8](d82d7591-b68a-42e7-ae48-5ee5a468975e.xhtml), *Advanced Cluster
    Administration*, talks about important resource management in Kubernetes. This
    chapter also goes through other important cluster administration, such as Kubernetes
    dashboard, authentication, and authorization.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: 第8章，“高级集群管理”，讨论了Kubernetes中的重要资源管理。本章还介绍了其他重要的集群管理，如Kubernetes仪表板、身份验证和授权。
- en: '[Chapter 9](54bceded-1d48-4d1a-bdb3-e3d659940411.xhtml), *Logging and Monitoring*, explains
    how to collect both system and application logs in Kubernetes by using Elasticsearch,
    Logstash, and Kibana (ELK). You will also learn how to leverage Heapster, InfluxDB,
    and Grafana to monitor your Kubernetes cluster.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 第9章，“日志和监控”，解释了如何通过使用Elasticsearch、Logstash和Kibana（ELK）在Kubernetes中收集系统和应用程序日志。您还将学习如何利用Heapster、InfluxDB和Grafana来监视您的Kubernetes集群。
- en: To get the most out of this book
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 充分利用本书
- en: Throughout the book, we use at least three servers with a Linux-based OS to
    build all of the components in Kubernetes. At the beginning of the book, you could
    use one machine, whether it is Linux or Windows, to learn about the concepts and
    basic deployment. From a scalability point of view, we recommend you start with
    three servers in order to scale out the components independently and push your
    cluster to the production level.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 在整本书中，我们使用至少三台运行基于Linux的操作系统的服务器来构建Kubernetes中的所有组件。在书的开头，您可以使用一台机器，无论是Linux还是Windows，来学习概念和基本部署。从可扩展性的角度来看，我们建议您从三台服务器开始，以便独立扩展组件并将集群推向生产级别。
- en: Download the example code files
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from your account at [www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](http://www.packtpub.com/support) and
    register to have the files emailed directly to you.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以从[www.packtpub.com](http://www.packtpub.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了本书，您可以访问[www.packtpub.com/support](http://www.packtpub.com/support)并注册，以便将文件直接发送到您的邮箱。
- en: 'You can download the code files by following these steps:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按照以下步骤下载代码文件：
- en: Log in or register at [www.packtpub.com](http://www.packtpub.com/support).
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录或注册[www.packtpub.com](http://www.packtpub.com/support)。
- en: Select the SUPPORT tab.
  id: totrans-21
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“支持”选项卡。
- en: Click on Code Downloads & Errata.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“代码下载和勘误”。
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-23
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索框中输入书名，然后按照屏幕上的说明操作。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦文件下载完成，请确保您使用最新版本的解压软件解压文件夹：
- en: WinRAR/7-Zip for Windows
  id: totrans-25
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Windows 的 WinRAR/7-Zip
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-26
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Mac 的 Zipeg/iZip/UnRarX
- en: 7-Zip/PeaZip for Linux
  id: totrans-27
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Linux 的 7-Zip/PeaZip
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition](https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition). In
    case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 该书的代码包也托管在 GitHub 上，网址为 [https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition](https://github.com/PacktPublishing/Kubernetes-Cookbook-Second-Edition)。如果代码有更新，将在现有的
    GitHub 存储库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还有其他代码包，来自我们丰富的书籍和视频目录，可在 [https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)
    上找到。看看吧！
- en: Download the color images
  id: totrans-30
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图片
- en: We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it here: [https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf).
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图片。您可以在这里下载：[https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/KubernetesCookbookSecondEdition_ColorImages.pdf)。
- en: Conventions used
  id: totrans-32
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了许多文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles. Here
    is an example: "Prepare the following YAML file, which is a simple Deployment that
    launches two `nginx` containers."'
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。这是一个例子：“准备以下
    YAML 文件，这是一个简单的部署，启动两个 `nginx` 容器。”'
- en: 'A block of code is set as follows:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块设置如下：
- en: '[PRE0]'
  id: totrans-36
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望引起您对代码块的特定部分的注意时，相关行或项目会以粗体显示：
- en: '[PRE1]'
  id: totrans-38
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都以以下方式编写：
- en: '[PRE2]'
  id: totrans-40
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this. Here
    is an example: "Installation is straightforward, so we can just choose the default
    options and click Next."'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示新术语、重要单词或屏幕上看到的单词。例如，菜单或对话框中的单词会以这种方式出现在文本中。这是一个例子：“安装很简单，所以我们可以选择默认选项，然后点击“下一步”。”'
- en: Warnings or important notes appear like this.Tips and tricks appear like this.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明会出现在这样。提示和技巧会出现在这样。
- en: Sections
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 章节
- en: In this book, you will find several headings that appear frequently (*Getting
    ready*, *How to do it...*, *How it works...*, *There's more...*, and *See also*).
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，您会经常看到几个标题（*准备工作*、*如何做…*、*它是如何工作的…*、*还有更多…* 和 *另请参阅*）。
- en: 'To give clear instructions on how to complete a recipe, use these sections
    as follows:'
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 为了清晰地说明如何完成一个配方，请使用以下部分：
- en: Getting ready
  id: totrans-46
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: This section tells you what to expect in the recipe and describes how to set
    up any software or any preliminary settings required for the recipe.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 本节告诉您在配方中可以期待什么，并描述了为配方设置任何所需的软件或初步设置。
- en: How to do it...
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做…
- en: This section contains the steps required to follow the recipe.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分包含了遵循食谱所需的步骤。
- en: How it works...
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: This section usually consists of a detailed explanation of what happened in
    the previous section.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分通常包括对上一部分发生的事情的详细解释。
- en: There's more...
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: This section consists of additional information about the recipe in order to
    make you more knowledgeable about the recipe.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分包括了有关食谱的额外信息，以使您对食谱更加了解。
- en: See also
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 另请参阅
- en: This section provides helpful links to other useful information for the recipe.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 这一部分提供了与食谱相关的其他有用信息的链接。
