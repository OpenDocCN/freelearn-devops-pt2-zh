# 前言

自 1993 年 Mark Burgess 首次创建 CFEngine 以来，配置管理工具一直在不断发展。随着 Puppet 和 Chef 等更现代的工具的出现，现在系统管理员可以选择的工具越来越多。

Ansible 是配置管理领域中较新的工具之一。其他工具侧重于完整性和可配置性，而 Ansible 则背离了这一趋势，专注于简单性和易用性。

在这本书中，我们旨在向你展示如何从 Ansible 的 CLI 工具的起步开始，编写剧本，然后管理大型和复杂的环境。最后，我们教你如何通过编写插件来构建自己的模块，并扩展 Ansible 以添加新功能。

# 本书涵盖了什么

第一章, *开始使用 Ansible*，教你 Ansible 的基础知识，如在 Windows 和 Linux 上安装它，如何构建清单，如何使用模块，以及最重要的是如何获取帮助。

第二章, *简单剧本*，教你如何结合多个模块创建 Ansible 剧本来管理你的主机，还涵盖了一些有用的模块。

第三章, *高级剧本*，深入探讨了 Ansible 的脚本语言，并教授了更复杂的语言构造；在这里我们还解释了如何调试剧本。

第四章, *大型项目*，教你如何使用技术将 Ansible 的配置扩展到大规模部署，包括如何管理你可能用来配置系统的各种秘密。

第五章, *自定义模块*，教你如何通过编写模块和插件来扩展 Ansible 的当前功能。

# 你需要为这本书做些什么

要使用这本书，你至少需要以下内容：

+   文本编辑器

+   一台安装了 Linux 操作系统的机器

+   Python 2.6.x 或 Python 2.7.x

然而，要充分利用 Ansible，你应该有几台 Linux 机器可供管理。如果需要，你可以使用虚拟化平台模拟许多主机。要使用 Windows 模块，你需要一台要管理的 Windows 机器和一台用作控制器的 Linux 机器。

# 这本书是为谁准备的

这本书适用于想要了解 Ansible 工作原理基础的人。预期你具有如何设置和配置 Linux 机器的基础知识。在本书的部分内容中，我们涵盖了 BIND、MySQL 和其他 Linux 守护程序的配置文件；对这些的工作知识会有所帮助，但并非必需。

# 约定

在这本书中，你会发现一些文本样式，用于区分不同类型的信息。以下是一些这些样式的示例，以及它们的含义解释。

文本中的代码单词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄显示如下："这是使用 `vars_files` 指令以类似的方式完成的。"

代码块设置如下：

```
[group]
machine1
machine2
machine3
```

当我们希望引起你对代码块的特定部分的注意时，相关行或项会以粗体显示：

```
tasks:
  - name: install apache
    action: yum name=httpd state=installed

  - name: configure apache
    copy: src=files/httpd.conf dest=/etc/httpd/conf/httpd.conf
```

任何命令行输入或输出都以以下方式书写：

```
**ansible machinename -u root -k -m ping**

```

**新术语**和**重要单词**以粗体显示。你在屏幕上看到的单词，比如菜单或对话框中的单词，会在文本中以这种方式出现："点击**下一步**按钮会将你移动到下一个屏幕"。

### 注意

警告或重要提示会以以下方式显示。

### 提示

提示和技巧看起来像这样。
