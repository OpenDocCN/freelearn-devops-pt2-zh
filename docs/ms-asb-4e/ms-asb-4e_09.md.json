["```\n---\n- name: error handling\n\u00a0\u00a0hosts: localhost\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0tasks:\n\u00a0\u00a0- name: broken website \n\u00a0\u00a0\u00a0\u00a0ansible.builtin.uri: \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url: http://notahost.nodomain \n```", "```\nansible-playbook -i mastery-hosts error.yaml\n```", "```\n\u00a0\u00a0- name: broken website \n\u00a0\u00a0\u00a0\u00a0ansible.builtin.uri: \n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0url: http://notahost.nodomain \n\u00a0\u00a0\u00a0\u00a0ignore_errors: true \n```", "```\n\u00a0\u00a0- name: query sessions\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: /sbin/iscsiadm -m session\n\u00a0\u00a0\u00a0\u00a0register: sessions\n```", "```\n\u00a0\u00a0- name: query sessions\n\u00a0\u00a0\u00a0\u00a0command: /sbin/iscsiadm -m session\n\u00a0\u00a0\u00a0\u00a0register: sessions\n\u00a0\u00a0\u00a0\u00a0failed_when: sessions.rc not in (0, 21) \n```", "```\nansible-playbook -i mastery-hosts error.yaml -v\n```", "```\n\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n```", "```\nsudo mkdir -p /srv/app\nsudo chown $USER /srv/app\ncd /srv/app\ngit init\ngit commit --allow-empty -m \"initial commit\"\n```", "```\n\u00a0\u00a0- name: check if branch badfeature exists\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0register: branches\n\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0when: branches.stdout is search('badfeature')\n```", "```\n\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0register: gitout\n\u00a0\u00a0\u00a0\u00a0failed_when:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- gitout.rc != 0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- not gitout.stderr is search('branch.*not found')\n```", "```\n\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0register: gitout\n\u00a0\u00a0\u00a0\u00a0failed_when:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- gitout.rc != 0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- not gitout.stderr is search('branch.*not found')\n\u00a0\u00a0\u00a0\u00a0changed_when: gitout.rc == 0\n```", "```\n#!/bin/bash \nrm -rf /srv/whiskey/tango \nmkdir -p /srv/whiskey/tango \n```", "```\n\u00a0\u00a0- name: discover tango directory\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.stat: path=/srv/whiskey/tango\n\u00a0\u00a0\u00a0\u00a0register: tango\n\u00a0\u00a0- name: run frobitz\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.script: files/frobitz --initialize /srv/whiskey/tango\n\u00a0\u00a0\u00a0\u00a0when: not tango.stat.exists\n```", "```\n\u00a0\u00a0- name: run frobitz \n\u00a0\u00a0\u00a0\u00a0ansible.builtin.script: files/frobitz \n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0creates: /srv/whiskey/tango \n```", "```\n\u00a0\u00a0- name: discover iscsi sessions\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: /sbin/iscsiadm -m session\n\u00a0\u00a0\u00a0\u00a0register: sessions\n\u00a0\u00a0\u00a0\u00a0failed_when:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- sessions.rc != 0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- not sessions.stderr is\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0search('No active sessions')\n\u00a0\u00a0\u00a0\u00a0changed_when: false\n```", "```\n---\n- name: error handling\n\u00a0\u00a0hosts: localhost\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0tasks:\n\u00a0\u00a0- block:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: this task is lost\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: \"I do not get seen\"\n```", "```\n\u00a0\u00a0\u00a0\u00a0rescue:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: cleanup task\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: \"I am cleaning up\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: cleanup task 2\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: \"I am also cleaning up\"\n```", "```\n\u00a0\u00a0- name: task after block\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: \"Execution goes on\" \n```", "```\n\u00a0\u00a0\u00a0\u00a0always:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: most important task\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: \"Never going to let you down\"\n```", "```\n---\n- name: error handling\n\u00a0\u00a0hosts: localhost\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0tasks:\n\u00a0\u00a0- block:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0register: gitout\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0failed_when:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- gitout.rc != 0\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- not gitout.stderr is search('branch.*not found')\n```", "```\n---\n- name: error handling\n\u00a0\u00a0hosts: all\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0tasks:\n\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0- name: important task\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: It is important we attempt this task!\n```", "```\n[demo]\nmastery.example.com ansible_host=192.168.10.25\nbackend.example.com ansible_host=192.168.10.26\n```", "```\n---\n- name: error handling\n\u00a0\u00a0hosts: all\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0tasks:\n\u00a0\u00a0- name: delete branch bad\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.command: git branch -D badfeature\n\u00a0\u00a0\u00a0\u00a0args:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0chdir: /srv/app\n\u00a0\u00a0\u00a0\u00a0ignore_unreachable: true\n\u00a0\u00a0- name: important task\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.debug:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0msg: It is important we attempt this task!\n```", "```\n---\n- name: looping demo\n\u00a0\u00a0hosts: localhost\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0become: true\n\u00a0\u00a0tasks:\n\u00a0\u00a0- name: create a directory\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.file:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: /srv/whiskey/alpha\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0state: directory\n\u00a0\u00a0- name: create another directory\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.file:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: /srv/whiskey/beta\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0state: directory\n```", "```\n---\n- name: looping demo\n\u00a0\u00a0hosts: localhost\n\u00a0\u00a0gather_facts: false\n\u00a0\u00a0become: true\n\u00a0\u00a0tasks:\n\u00a0\u00a0- name: create a directory\n\u00a0\u00a0\u00a0\u00a0ansible.builtin.file:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: \"{{ item }}\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0state: directory\n\u00a0\u00a0\u00a0\u00a0loop:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- /srv/whiskey/alpha\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- /srv/whiskey/beta\n```", "```\n\u00a0\u00a0\u00a0\u00a0- name: Wait until /tmp/flag exists\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.stat:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: /tmp/flag\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0register: statresult\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0until: statresult.stat.exists\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0retries: 5\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0delay: 10\n```", "```\n---\n- name: Nested loop example\n\u00a0\u00a0hosts: all\n\u00a0\u00a0gather_facts: no\n\u00a0\u00a0vars:\n\u00a0\u00a0\u00a0\u00a0paths:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- /tmp\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- /var/tmp\n\u00a0\u00a0\u00a0\u00a0files:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- test1\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0- test2\n\u00a0\u00a0tasks:\n\u00a0\u00a0\u00a0\u00a0- name: Create files with nested loop\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.file:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0path: \"{{ item[0] }}/{{ item[1] }}\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0state: touch\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loop: \"{{ paths | product(files) | list }}\"\n```", "```\n\u00a0\u00a0\u00a0\u00a0- name: Create files with nested loop\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0ansible.builtin.include_tasks: createfile.yml\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loop: \"{{ paths }}\"\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loop_control:\n\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0\u00a0loop_var: pathname\n```", "```\n---\n- name: Create a file\n\u00a0\u00a0ansible.builtin.file:\n\u00a0\u00a0\u00a0\u00a0path: \"{{ pathname }}/{{ item }}\"\n\u00a0\u00a0\u00a0\u00a0state: touch\n\u00a0\u00a0loop: \"{{ files }}\"\n```"]