["```\n[frontends]\nfrt01.example.com\nfrt02.example.com\n```", "```\n---\n- name: Play to demonstrate asynchronous tasks\n  hosts: frontends\n  become: true\n\n  tasks:\n    - name: A simulated long running task\n      shell: \"sleep 20\"\n      async: 30\n      poll: 5\n```", "```\n$ ansible-playbook -i hosts async.yml\n\nPLAY [Play to demonstrate asynchronous tasks] **********************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt02.example.com]\nok: [frt01.example.com]\n\nTASK [A simulated long running task] *******************************************\nchanged: [frt02.example.com]\nchanged: [frt01.example.com]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n---\n- name: Play to demonstrate asynchronous tasks\n  hosts: frontends\n  become: true\n\n  tasks:\n    - name: A simulated long running task\n      shell: \"sleep 20\"\n      async: 30\n      poll: 0\n      register: long_task\n\n    - name: Check on the asynchronous task\n      async_status:\n        jid: \"{{ long_task.ansible_job_id }}\"\n      register: async_result\n      until: async_result.finished\n      retries: 30\n```", "```\n$ ansible-playbook -i hosts async2.yml\n\nPLAY [Play to demonstrate asynchronous tasks] **********************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt01.example.com]\nok: [frt02.example.com]\n\nTASK [A simulated long running task] *******************************************\nchanged: [frt02.example.com]\nchanged: [frt01.example.com]\n\nTASK [Check on the asynchronous task] ******************************************\nFAILED - RETRYING: Check on the asynchronous task (30 retries left).\nFAILED - RETRYING: Check on the asynchronous task (30 retries left).\nFAILED - RETRYING: Check on the asynchronous task (29 retries left).\nFAILED - RETRYING: Check on the asynchronous task (29 retries left).\nFAILED - RETRYING: Check on the asynchronous task (28 retries left).\nFAILED - RETRYING: Check on the asynchronous task (28 retries left).\nFAILED - RETRYING: Check on the asynchronous task (27 retries left).\nFAILED - RETRYING: Check on the asynchronous task (27 retries left).\nchanged: [frt01.example.com]\nchanged: [frt02.example.com]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=3 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=3 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n---\n- name: Simple serial demonstration play\n  hosts: frontends\n  gather_facts: false\n\n  tasks:\n    - name: First task\n      command: date\n    - name: Second task\n      command: date\n```", "```\n$ ansible-playbook -i hosts serial.yml\n\nPLAY [Simple serial demonstration play] ****************************************\n\nTASK [First task] **************************************************************\nchanged: [frt02.example.com]\nchanged: [frt01.example.com]\n\nTASK [Second task] *************************************************************\nchanged: [frt01.example.com]\nchanged: [frt02.example.com]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n---\n- name: Simple serial demonstration play\n  hosts: frontends\n  serial: 1\n  gather_facts: false\n```", "```\n$ ansible-playbook -i hosts serial.yml\n\nPLAY [Simple serial demonstration play] ****************************************\n\nTASK [First task] **************************************************************\nchanged: [frt01.example.com]\n\nTASK [Second task] *************************************************************\nchanged: [frt01.example.com]\n\nPLAY [Simple serial demonstration play] ****************************************\n\nTASK [First task] **************************************************************\nchanged: [frt02.example.com]\n\nTASK [Second task] *************************************************************\nchanged: [frt02.example.com]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n  serial:\n    - 1\n    - 3\n    - 5\n```", "```\n[frontends]\nfrt[01:10].example.com\n```", "```\n---\n- name: A simple play to demonstrate use of max_fail_percentage\n  hosts: frontends\n  gather_facts: no\n  serial: 5\n  max_fail_percentage: 50\n```", "```\n  tasks:\n    - name: A task that will sometimes fail\n      debug:\n        msg: This might fail\n      failed_when: inventory_hostname in ansible_play_batch[0:3]\n```", "```\n    - name: A task that will succeed\n      debug:\n        msg: Success!\n```", "```\n$ ansible-playbook -i morehosts maxfail.yml\n\nPLAY [A simple play to demonstrate use of max_fail_percentage] *****************\n\nTASK [A task that will sometimes fail] *****************************************\nfatal: [frt01.example.com]: FAILED! => {\n \"msg\": \"This might fail\"\n}\nfatal: [frt02.example.com]: FAILED! => {\n \"msg\": \"This might fail\"\n}\nfatal: [frt03.example.com]: FAILED! => {\n \"msg\": \"This might fail\"\n}\nok: [frt04.example.com] => {\n \"msg\": \"This might fail\"\n}\nok: [frt05.example.com] => {\n \"msg\": \"This might fail\"\n}\n\nNO MORE HOSTS LEFT *************************************************************\n\nNO MORE HOSTS LEFT *************************************************************\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0\nfrt03.example.com : ok=0 changed=0 unreachable=0 failed=1 skipped=0 rescued=0 ignored=0\nfrt04.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt05.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n[frontends]\nfrt01.example.com\nfrt02.example.com\n```", "```\n#!/bin/sh\necho Removing $1 from load balancer...\n```", "```\n#!/bin/sh\necho Adding $1 to load balancer...\n```", "```\n---\n- name: Play to demonstrate task delegation\n  hosts: frontends\n\n  tasks:\n    - name: Remove host from the load balancer\n      command: ./remove_from_loadbalancer.sh {{ inventory_hostname }}\n      args:\n        chdir: \"{{ playbook_dir }}\"\n      delegate_to: localhost\n```", "```\n    - name: Deploy code to host\n      debug:\n        msg: Deployment code would go here....\n```", "```\n    - name: Add host back to the load balancer\n      command: ./add_to_loadbalancer.sh {{ inventory_hostname }}\n      args:\n        chdir: \"{{ playbook_dir }}\"\n      delegate_to: localhost\n```", "```\n$ ansible-playbook -i hosts delegate.yml\n\nPLAY [Play to demonstrate task delegation] *************************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt01.example.com]\nok: [frt02.example.com]\n\nTASK [Remove host from the load balancer] **************************************\nchanged: [frt02.example.com -> localhost]\nchanged: [frt01.example.com -> localhost]\n\nTASK [Deploy code to host] *****************************************************\nok: [frt01.example.com] => {\n \"msg\": \"Deployment code would go here....\"\n}\nok: [frt02.example.com] => {\n \"msg\": \"Deployment code would go here....\"\n}\n\nTASK [Add host back to the load balancer] **************************************\nchanged: [frt01.example.com -> localhost]\nchanged: [frt02.example.com -> localhost]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=4 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=4 changed=2 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n---\n- name: Second task delegation example\n  hosts: frontends\n\n  tasks:\n  - name: Perform an rsync from localhost to inventory hosts\n    local_action: command rsync -a /tmp/ {{ inventory_hostname }}:/tmp/target/\n```", "```\ntasks:\n  - name: Perform an rsync from localhost to inventory hosts\n    command: rsync -a /tmp/ {{ inventory_hostname }}:/tmp/target/\n    delegate_to: localhost\n```", "```\n$ ansible-playbook -i hosts delegate2.yml\n\nPLAY [Second task delegation example] ******************************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt02.example.com]\nok: [frt01.example.com]\n\nTASK [Perform an rsync from localhost to inventory hosts] **********************\nchanged: [frt02.example.com -> localhost]\nchanged: [frt01.example.com -> localhost]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n---\n- name: Play to demonstrate the run_once directive\n  hosts: frontends\n\n  tasks:\n    - name: Upgrade database schema\n      debug:\n        msg: Upgrading database schema...\n      run_once: true\n```", "```\n$ ansible-playbook -i morehosts runonce.yml\n\nPLAY [Play to demonstrate the run_once directive] ******************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt02.example.com]\nok: [frt05.example.com]\nok: [frt03.example.com]\nok: [frt01.example.com]\nok: [frt04.example.com]\nok: [frt06.example.com]\nok: [frt08.example.com]\nok: [frt09.example.com]\nok: [frt07.example.com]\nok: [frt10.example.com]\n\nTASK [Upgrade database schema] *************************************************\nok: [frt01.example.com] => {\n \"msg\": \"Upgrading database schema...\"\n}\n---\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt03.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt04.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt05.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt06.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt07.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt08.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt09.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt10.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n$ ansible-playbook -i morehosts runonce.yml\n\nPLAY [Play to demonstrate the run_once directive] ******************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt04.example.com]\nok: [frt01.example.com]\nok: [frt02.example.com]\nok: [frt03.example.com]\nok: [frt05.example.com]\n\nTASK [Upgrade database schema] *************************************************\nok: [frt01.example.com] => {\n \"msg\": \"Upgrading database schema...\"\n}\n\nPLAY [Play to demonstrate the run_once directive] ******************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt08.example.com]\nok: [frt06.example.com]\nok: [frt07.example.com]\nok: [frt10.example.com]\nok: [frt09.example.com]\n\nTASK [Upgrade database schema] *************************************************\nok: [frt06.example.com] => {\n \"msg\": \"Upgrading database schema...\"\n}\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt03.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt04.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt05.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt06.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt07.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt08.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt09.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt10.example.com : ok=1 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n[local]\nlocalhost\n```", "```\n$ ansible -i localhosts -m ping all --ask-pass\nThe authenticity of host 'localhost (::1)' can't be established.\nECDSA key fingerprint is SHA256:DUwVxH+45432pSr9qsN8Av4l0KJJ+r5jTo123n3XGvZs.\nECDSA key fingerprint is MD5:78:d1:dc:23:cc:28:51:42:eb:fb:58:49:ab:92:b6:96.\nAre you sure you want to continue connecting (yes/no)? yes\nSSH password:\nlocalhost | SUCCESS => {\n \"ansible_facts\": {\n \"discovered_interpreter_python\": \"/usr/bin/python\"\n },\n \"changed\": false,\n \"ping\": \"pong\"\n}\n```", "```\n[local]\nlocalhost ansible_connection=local\n```", "```\n[local]\nfrt01.example.com ansible_connection=local\n```", "```\nls -l /tmp/foo\nls: cannot access /tmp/foo: No such file or directory\n```", "```\n$ ansible -i localhosts2 -m file -a \"path=/tmp/foo state=touch\" all\nfrt01.example.com | CHANGED => {\n \"ansible_facts\": {\n \"discovered_interpreter_python\": \"/usr/bin/python\"\n },\n \"changed\": true,\n \"dest\": \"/tmp/foo\",\n \"gid\": 0,\n \"group\": \"root\",\n \"mode\": \"0644\",\n \"owner\": \"root\",\n \"size\": 0,\n \"state\": \"file\",\n \"uid\": 0\n}\n```", "```\n$ ls -l /tmp/foo\n-rw-r--r-- 1 root root 0 Apr 24 16:28 /tmp/foo\n```", "```\n[switches]\ncmls01.example.com\ncmls02.example.com\n```", "```\n[switches:vars]\nansible_ssh_common_args='-o ProxyCommand=\"ssh -W %h:%p -q bastion.example.com\"'\n```", "```\n$ ansible -i switches -m ping all\ncmls02.example.com | SUCCESS => {\n \"ansible_facts\": {\n \"discovered_interpreter_python\": \"/usr/bin/python\"\n },\n \"changed\": false,\n127.0.0.1 app02.example.com\n \"ping\": \"pong\"\n}\ncmls01.example.com | SUCCESS => {\n \"ansible_facts\": {\n \"discovered_interpreter_python\": \"/usr/bin/python\"\n },\n \"changed\": false,\n \"ping\": \"pong\"\n}\n```", "```\n---\n- name: A simple play to demonstrate prompting in a playbook\n  hosts: frontends\n```", "```\n  vars_prompt:\n    - name: loginid\n      prompt: \"Enter your username\"\n      private: no\n    - name: password\n      prompt: \"Enter your password\"\n      private: yes\n```", "```\n  tasks:\n    - name: Proceed with login\n      debug:\n        msg: \"Logging in as {{ loginid }}...\"\n```", "```\n$ ansible-playbook -i hosts prompt.yml\nEnter your username: james\nEnter your password:\n\nPLAY [A simple play to demonstrate prompting in a playbook] ********************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt01.example.com]\nok: [frt02.example.com]\n\nTASK [Proceed with login] ******************************************************\nok: [frt01.example.com] => {\n \"msg\": \"Logging in as james...\"\n}\nok: [frt02.example.com] => {\n \"msg\": \"Logging in as james...\"\n}\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n---\n- name: Simple play to demonstrate use of tags\n  hosts: frontends\n\n  tasks:\n    - name: Install nginx\n      yum:\n        name: nginx\n        state: present\n      tags:\n        - install\n\n    - name: Install nginx configuration from template\n      template:\n        src: templates/nginx.conf.j2\n        dest: /etc/nginx.conf\n      tags:\n        - customize\n```", "```\n$ ansible-playbook -i hosts tags.yml --tags install\n\nPLAY [Simple play to demonstrate use of tags] **********************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt02.example.com]\nok: [frt01.example.com]\n\nTASK [Install nginx] ***********************************************************\nchanged: [frt02.example.com]\nchanged: [frt01.example.com]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n$ ansible-playbook -i hosts tags.yml --skip-tags customize\n\nPLAY [Simple play to demonstrate use of tags] **********************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt02.example.com]\nok: [frt01.example.com]\n\nTASK [Install nginx] ***********************************************************\nok: [frt02.example.com]\nok: [frt01.example.com]\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n$ ansible-playbook -i hosts tags.yml --skip-tags customize --list-tasks\n\nplaybook: tags.yml\n\n play #1 (frontends): Simple play to demonstrate use of tags TAGS: []\n tasks:\n Install nginx TAGS: [install]\n\n$ ansible-playbook -i hosts tags.yml --tags install,customize --list-tasks\n\nplaybook: tags.yml\n\n play #1 (frontends): Simple play to demonstrate use of tags TAGS: []\n tasks:\n Install nginx TAGS: [install]\n Install nginx configuration from template TAGS: [customize]\n\n$ ansible-playbook -i hosts tags.yml --list-tasks\n\nplaybook: tags.yml\n\n play #1 (frontends): Simple play to demonstrate use of tags TAGS: []\n tasks:\n Install nginx TAGS: [install]\n Install nginx configuration from template TAGS: [customize]\n```", "```\n$ ansible-vault create secret.yml\nNew Vault password:\nConfirm New Vault password:\n```", "```\n---\nsecretdata: \"Ansible is cool!\"\n```", "```\n$ cat secret.yml\n$ANSIBLE_VAULT;1.1;AES256\n63333734623764633865633237333166333634353334373862346334643631303163653931306138\n6334356465396463643936323163323132373836336461370a343236386266313331653964326334\n62363737663165336539633262366636383364343663396335643635623463626336643732613830\n6139363035373736370a646661396464386364653935636366633663623261633538626230616630\n35346465346430636463323838613037386636333334356265623964633763333532366561323266\n3664613662643263383464643734633632383138363663323730\n```", "```\n---\n- name: A play that makes use of an Ansible Vault\n  hosts: frontends\n\n  vars_files:\n    - secret.yml\n\n  tasks:\n    - name: Tell me a secret\n      debug:\n        msg: \"Your secret data is: {{ secretdata }}\"\n```", "```\n$ ansible-playbook -i hosts vaultplaybook.yml\nERROR! Attempting to decrypt but no vault secrets found\n```", "```\n$ ansible-playbook -i hosts vaultplaybook.yml --ask-vault-pass\nVault password:\n\nPLAY [A play that makes use of an Ansible Vault] *******************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt01.example.com]\nok: [frt02.example.com]\n\nTASK [Tell me a secret] ********************************************************\nok: [frt01.example.com] => {\n \"msg\": \"Your secret data is: Ansible is cool!\"\n}\nok: [frt02.example.com] => {\n \"msg\": \"Your secret data is: Ansible is cool!\"\n}\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```", "```\n$ ansible-vault encrypt_string 'Ansible is cool!' --name secretdata\nNew Vault password:\nConfirm New Vault password:\nsecretdata: !vault |\n $ANSIBLE_VAULT;1.1;AES256\n 34393431303339353735656236656130336664666337363732376262343837663738393465623930\n 3366623061306364643966666565316235313136633264310a623736643362663035373861343435\n 62346264313638656363323835323833633264636561366339326332356430383734653030306637\n 3736336533656230380a316364313831666463643534633530393337346164356634613065396434\n 33316338336266636666353334643865363830346566666331303763643564323065\nEncryption successful\n```", "```\n---\n- name: A play that makes use of an Ansible Vault\n  hosts: frontends\n\n  vars:\n    secretdata: !vault |\n          $ANSIBLE_VAULT;1.1;AES256\n          34393431303339353735656236656130336664666337363732376262343837663738393465623930\n          3366623061306364643966666565316235313136633264310a623736643362663035373861343435\n          62346264313638656363323835323833633264636561366339326332356430383734653030306637\n          3736336533656230380a316364313831666463643534633530393337346164356634613065396434\n          33316338336266636666353334643865363830346566666331303763643564323065\n\n  tasks:\n    - name: Tell me a secret\n      debug:\n        msg: \"Your secret data is: {{ secretdata }}\"\n```", "```\n$ ansible-playbook -i hosts inlinevaultplaybook.yml --ask-vault-pass\nVault password:\n\nPLAY [A play that makes use of an Ansible Vault] *******************************\n\nTASK [Gathering Facts] *********************************************************\nok: [frt02.example.com]\nok: [frt01.example.com]\n\nTASK [Tell me a secret] ********************************************************\nok: [frt01.example.com] => {\n \"msg\": \"Your secret data is: Ansible is cool!\"\n}\nok: [frt02.example.com] => {\n \"msg\": \"Your secret data is: Ansible is cool!\"\n}\n\nPLAY RECAP *********************************************************************\nfrt01.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\nfrt02.example.com : ok=2 changed=0 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0\n```"]